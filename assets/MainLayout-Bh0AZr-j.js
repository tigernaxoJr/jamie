import{Q as Me,a as We}from"./QBtn-I20VTzYT.js";import{b as F,c as o,h as b,g as K,W as P,r as p,w as v,X as se,e as pe,Y as X,x as De,n as he,O as Re,s as ke,Z as Fe,_ as Ie,$ as U,j as Ae,a0 as Ne,a1 as me,a2 as L,a3 as $,a4 as Ee,a5 as oe,a6 as Ue,a7 as je,a8 as Ke,a9 as Xe,aa as ne,ab as Je,ac as be,ad as Ye}from"./index-BwSGB-g4.js";import{h as J,b as Ze,c as ge,a as Ge}from"./render-DO7taugi.js";import{Q as ue,b as et,u as tt,c as at,a as lt,d as ot,o as j,g as ie,k as nt,j as it,h as ye,i as we}from"./format-ClS5xHc8.js";import{u as rt,a as ut,b as st}from"./use-timeout-DMDZG5y_.js";import{T as re,Q as ct}from"./QScrollObserver-qmwnvbtb.js";const dt=F({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:w}){const c=o(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>b("div",{class:c.value},J(w.default))}}),ft=F({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:w}){const c=o(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>b("div",{class:c.value,role:"toolbar"},J(w.default))}}),vt=F({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:w,emit:c}){const{proxy:{$q:d}}=K(),r=se(X,P);if(r===P)return console.error("QHeader needs to be child of QLayout"),P;const i=p(parseInt(e.heightHint,10)),q=p(!0),h=o(()=>e.reveal===!0||r.view.value.indexOf("H")!==-1||d.platform.is.ios&&r.isContainer.value===!0),z=o(()=>{if(e.modelValue!==!0)return 0;if(h.value===!0)return q.value===!0?i.value:0;const l=i.value-r.scroll.value.position;return l>0?l:0}),k=o(()=>e.modelValue!==!0||h.value===!0&&q.value!==!0),a=o(()=>e.modelValue===!0&&k.value===!0&&e.reveal===!0),M=o(()=>"q-header q-layout__section--marginal "+(h.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(k.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),_=o(()=>{const l=r.rows.value.top,x={};return l[0]==="l"&&r.left.space===!0&&(x[d.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),l[2]==="r"&&r.right.space===!0&&(x[d.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),x});function g(l,x){r.update("header",l,x)}function f(l,x){l.value!==x&&(l.value=x)}function Q({height:l}){f(i,l),g("size",l)}function y(l){a.value===!0&&f(q,!0),c("focusin",l)}v(()=>e.modelValue,l=>{g("space",l),f(q,!0),r.animate()}),v(z,l=>{g("offset",l)}),v(()=>e.reveal,l=>{l===!1&&f(q,e.modelValue)}),v(q,l=>{r.animate(),c("reveal",l)}),v(r.scroll,l=>{e.reveal===!0&&f(q,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const s={};return r.instances.header=s,e.modelValue===!0&&g("size",i.value),g("space",e.modelValue),g("offset",z.value),pe(()=>{r.instances.header===s&&(r.instances.header=void 0,g("size",0),g("offset",0),g("space",!1))}),()=>{const l=Ze(w.default,[]);return e.elevated===!0&&l.push(b("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(b(ue,{debounce:0,onResize:Q})),b("header",{class:M.value,style:_.value,onFocusin:y},l)}}}),qe=150,ht=F({name:"QDrawer",inheritAttrs:!1,props:{...at,...tt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...et,"onLayout","miniState"],setup(e,{slots:w,emit:c,attrs:d}){const r=K(),{proxy:{$q:i}}=r,q=lt(e,i),{preventBodyScroll:h}=st(),{registerTimeout:z,removeTimeout:k}=rt(),a=se(X,P);if(a===P)return console.error("QDrawer needs to be child of QLayout"),P;let M,_=null,g;const f=p(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),Q=o(()=>e.mini===!0&&f.value!==!0),y=o(()=>Q.value===!0?e.miniWidth:e.width),s=p(e.showIfAbove===!0&&f.value===!1?!0:e.modelValue===!0),l=o(()=>e.persistent!==!0&&(f.value===!0||xe.value===!0));function x(t,n){if(B(),t!==!1&&a.animate(),T(0),f.value===!0){const C=a.instances[N.value];C?.belowBreakpoint===!0&&C.hide(!1),V(1),a.isContainer.value!==!0&&h(!0)}else V(0),t!==!1&&te(!1);z(()=>{t!==!1&&te(!0),n!==!0&&c("show",t)},qe)}function u(t,n){I(),t!==!1&&a.animate(),V(0),T(D.value*y.value),ae(),n!==!0?z(()=>{c("hide",t)},qe):k()}const{show:m,hide:S}=ot({showing:s,hideOnRouteChange:l,handleShow:x,handleHide:u}),{addToHistory:B,removeFromHistory:I}=ut(s,S,l),W={belowBreakpoint:f,hide:S},O=o(()=>e.side==="right"),D=o(()=>(i.lang.rtl===!0?-1:1)*(O.value===!0?1:-1)),ce=p(0),R=p(!1),Y=p(!1),de=p(y.value*D.value),N=o(()=>O.value===!0?"left":"right"),Z=o(()=>s.value===!0&&f.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:y.value:0),G=o(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(O.value?"R":"L")!==-1||i.platform.is.ios===!0&&a.isContainer.value===!0),A=o(()=>e.overlay===!1&&s.value===!0&&f.value===!1),xe=o(()=>e.overlay===!0&&s.value===!0&&f.value===!1),Se=o(()=>"fullscreen q-drawer__backdrop"+(s.value===!1&&R.value===!1?" hidden":"")),Ce=o(()=>({backgroundColor:`rgba(0,0,0,${ce.value*.4})`})),fe=o(()=>O.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),$e=o(()=>O.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),ze=o(()=>{const t={};return a.header.space===!0&&fe.value===!1&&(G.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&$e.value===!1&&(G.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),Be=o(()=>{const t={width:`${y.value}px`,transform:`translateX(${de.value}px)`};return f.value===!0?t:Object.assign(t,ze.value)}),Te=o(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),Le=o(()=>`q-drawer q-drawer--${e.side}`+(Y.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(q.value===!0?" q-drawer--dark q-dark":"")+(R.value===!0?" no-transition":s.value===!0?"":" q-layout--prevent-focus")+(f.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${Q.value===!0?"mini":"standard"}`+(G.value===!0||A.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(fe.value===!0?" q-drawer--top-padding":""))),_e=o(()=>{const t=i.lang.rtl===!0?e.side:N.value;return[[re,Ve,void 0,{[t]:!0,mouse:!0}]]}),Qe=o(()=>{const t=i.lang.rtl===!0?N.value:e.side;return[[re,ve,void 0,{[t]:!0,mouse:!0}]]}),Oe=o(()=>{const t=i.lang.rtl===!0?N.value:e.side;return[[re,ve,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function ee(){He(f,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}v(f,t=>{t===!0?(M=s.value,s.value===!0&&S(!1)):e.overlay===!1&&e.behavior!=="mobile"&&M!==!1&&(s.value===!0?(T(0),V(0),ae()):m(!1))}),v(()=>e.side,(t,n)=>{a.instances[n]===W&&(a.instances[n]=void 0,a[n].space=!1,a[n].offset=0),a.instances[t]=W,a[t].size=y.value,a[t].space=A.value,a[t].offset=Z.value}),v(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&ee()}),v(()=>e.behavior+e.breakpoint,ee),v(a.isContainer,t=>{s.value===!0&&h(t!==!0),t===!0&&ee()}),v(a.scrollbarWidth,()=>{T(s.value===!0?0:void 0)}),v(Z,t=>{H("offset",t)}),v(A,t=>{c("onLayout",t),H("space",t)}),v(O,()=>{T()}),v(y,t=>{T(),le(e.miniToOverlay,t)}),v(()=>e.miniToOverlay,t=>{le(t,y.value)}),v(()=>i.lang.rtl,()=>{T()}),v(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Pe(),a.animate())}),v(Q,t=>{c("miniState",t)});function T(t){t===void 0?he(()=>{t=s.value===!0?0:y.value,T(D.value*t)}):(a.isContainer.value===!0&&O.value===!0&&(f.value===!0||Math.abs(t)===y.value)&&(t+=D.value*a.scrollbarWidth.value),de.value=t)}function V(t){ce.value=t}function te(t){const n=t===!0?"remove":a.isContainer.value!==!0?"add":"";n!==""&&document.body.classList[n]("q-body--drawer-toggle")}function Pe(){_!==null&&clearTimeout(_),r.proxy&&r.proxy.$el&&r.proxy.$el.classList.add("q-drawer--mini-animate"),Y.value=!0,_=setTimeout(()=>{_=null,Y.value=!1,r?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function Ve(t){if(s.value!==!1)return;const n=y.value,C=j(t.distance.x,0,n);if(t.isFinal===!0){C>=Math.min(75,n)===!0?m():(a.animate(),V(0),T(D.value*n)),R.value=!1;return}T((i.lang.rtl===!0?O.value!==!0:O.value)?Math.max(n-C,0):Math.min(0,C-n)),V(j(C/n,0,1)),t.isFirst===!0&&(R.value=!0)}function ve(t){if(s.value!==!0)return;const n=y.value,C=t.direction===e.side,E=(i.lang.rtl===!0?C!==!0:C)?j(t.distance.x,0,n):0;if(t.isFinal===!0){Math.abs(E)<Math.min(75,n)===!0?(a.animate(),V(1),T(0)):S(),R.value=!1;return}T(D.value*E),V(j(1-E/n,0,1)),t.isFirst===!0&&(R.value=!0)}function ae(){h(!1),te(!0)}function H(t,n){a.update(e.side,t,n)}function He(t,n){t.value!==n&&(t.value=n)}function le(t,n){H("size",t===!0?e.miniWidth:n)}return a.instances[e.side]=W,le(e.miniToOverlay,y.value),H("space",A.value),H("offset",Z.value),e.showIfAbove===!0&&e.modelValue!==!0&&s.value===!0&&e["onUpdate:modelValue"]!==void 0&&c("update:modelValue",!0),De(()=>{c("onLayout",A.value),c("miniState",Q.value),M=e.showIfAbove===!0;const t=()=>{(s.value===!0?x:u)(!1,!0)};if(a.totalWidth.value!==0){he(t);return}g=v(a.totalWidth,()=>{g(),g=void 0,s.value===!1&&e.showIfAbove===!0&&f.value===!1?m(!1):t()})}),pe(()=>{g?.(),_!==null&&(clearTimeout(_),_=null),s.value===!0&&ae(),a.instances[e.side]===W&&(a.instances[e.side]=void 0,H("size",0),H("offset",0),H("space",!1))}),()=>{const t=[];f.value===!0&&(e.noSwipeOpen===!1&&t.push(Re(b("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),_e.value)),t.push(ge("div",{ref:"backdrop",class:Se.value,style:Ce.value,"aria-hidden":"true",onClick:S},void 0,"backdrop",e.noSwipeBackdrop!==!0&&s.value===!0,()=>Oe.value)));const n=Q.value===!0&&w.mini!==void 0,C=[b("div",{...d,key:""+n,class:[Te.value,d.class]},n===!0?w.mini():J(w.default))];return e.elevated===!0&&s.value===!0&&C.push(b("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(ge("aside",{ref:"content",class:Le.value,style:Be.value},C,"contentclose",e.noSwipeClose!==!0&&f.value===!0,()=>Qe.value)),b("div",{class:"q-drawer-container"},t)}}}),mt=F({name:"QPageContainer",setup(e,{slots:w}){const{proxy:{$q:c}}=K(),d=se(X,P);if(d===P)return console.error("QPageContainer needs to be child of QLayout"),P;ke(Fe,!0);const r=o(()=>{const i={};return d.header.space===!0&&(i.paddingTop=`${d.header.size}px`),d.right.space===!0&&(i[`padding${c.lang.rtl===!0?"Left":"Right"}`]=`${d.right.size}px`),d.footer.space===!0&&(i.paddingBottom=`${d.footer.size}px`),d.left.space===!0&&(i[`padding${c.lang.rtl===!0?"Right":"Left"}`]=`${d.left.size}px`),i});return()=>b("div",{class:"q-page-container",style:r.value},J(w.default))}}),bt=F({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:w,emit:c}){const{proxy:{$q:d}}=K(),r=p(null),i=p(d.screen.height),q=p(e.container===!0?0:d.screen.width),h=p({position:0,direction:"down",inflectionPoint:0}),z=p(0),k=p(Ie.value===!0?0:ie()),a=o(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),M=o(()=>e.container===!1?{minHeight:d.screen.height+"px"}:null),_=o(()=>k.value!==0?{[d.lang.rtl===!0?"left":"right"]:`${k.value}px`}:null),g=o(()=>k.value!==0?{[d.lang.rtl===!0?"right":"left"]:0,[d.lang.rtl===!0?"left":"right"]:`-${k.value}px`,width:`calc(100% + ${k.value}px)`}:null);function f(u){if(e.container===!0||document.qScrollPrevented!==!0){const m={position:u.position.top,direction:u.direction,directionChanged:u.directionChanged,inflectionPoint:u.inflectionPoint.top,delta:u.delta.top};h.value=m,e.onScroll!==void 0&&c("scroll",m)}}function Q(u){const{height:m,width:S}=u;let B=!1;i.value!==m&&(B=!0,i.value=m,e.onScrollHeight!==void 0&&c("scrollHeight",m),s()),q.value!==S&&(B=!0,q.value=S),B===!0&&e.onResize!==void 0&&c("resize",u)}function y({height:u}){z.value!==u&&(z.value=u,s())}function s(){if(e.container===!0){const u=i.value>z.value?ie():0;k.value!==u&&(k.value=u)}}let l=null;const x={instances:{},view:o(()=>e.view),isContainer:o(()=>e.container),rootRef:r,height:i,containerHeight:z,scrollbarWidth:k,totalWidth:o(()=>q.value+k.value),rows:o(()=>{const u=e.view.toLowerCase().split(" ");return{top:u[0].split(""),middle:u[1].split(""),bottom:u[2].split("")}}),header:U({size:0,offset:0,space:!1}),right:U({size:300,offset:0,space:!1}),footer:U({size:0,offset:0,space:!1}),left:U({size:300,offset:0,space:!1}),scroll:h,animate(){l!==null?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{l=null,document.body.classList.remove("q-body--layout-animate")},155)},update(u,m,S){x[u][m]=S}};if(ke(X,x),ie()>0){let u=function(){B=null,I.classList.remove("hide-scrollbar")},m=function(){if(B===null){if(I.scrollHeight>d.screen.height)return;I.classList.add("hide-scrollbar")}else clearTimeout(B);B=setTimeout(u,300)},S=function(W){B!==null&&W==="remove"&&(clearTimeout(B),u()),window[`${W}EventListener`]("resize",m)},B=null;const I=document.body;v(()=>e.container!==!0?"add":"remove",S),e.container!==!0&&S("add"),Ae(()=>{S("remove")})}return()=>{const u=Ge(w.default,[b(ct,{onScroll:f}),b(ue,{onResize:Q})]),m=b("div",{class:a.value,style:M.value,ref:e.container===!0?void 0:r,tabindex:-1},u);return e.container===!0?b("div",{class:"q-layout-container overflow-hidden",ref:r},[b(ue,{onResize:y}),b("div",{class:"absolute-full",style:_.value},[b("div",{class:"scroll",style:g.value},[m])])]):m}}}),St=Ne({__name:"MainLayout",setup(e){const w=[{title:"英文測驗",caption:"開始英文單字測驗",icon:"quiz",to:"/quiz"},{title:"英文複習",caption:"開始英文單字複習",icon:"book",to:"/review"},{title:"首頁",caption:"回到首頁",icon:"home",to:"/"}],c=p(!1);function d(){c.value=!c.value}return(r,i)=>{const q=Xe("router-view");return ne(),me(bt,{view:"hHh Lpr lFf"},{default:L(()=>[$(vt,{class:"bg-white text-primary","height-hint":"58",bordered:""},{default:L(()=>[$(ft,null,{default:L(()=>[$(Me,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:d,class:"q-mr-sm"}),$(dt,{class:"text-weight-bold"},{default:L(()=>[...i[1]||(i[1]=[oe(" Jamie's English App ",-1)])]),_:1}),i[2]||(i[2]=Ee("div",{class:"text-caption text-grey-7"},"v0.0.1 alpha",-1))]),_:1})]),_:1}),$(ht,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=h=>c.value=h),"show-if-above":"",class:"bg-grey-1",bordered:""},{default:L(()=>[$(nt,{padding:""},{default:L(()=>[(ne(),Ue(Ke,null,je(w,(h,z)=>$(it,{key:z,clickable:"",tag:"a",to:h.to,active:h.to===r.$route.path,class:"q-mx-md q-my-xs rounded-borders","active-class":"bg-primary text-white"},{default:L(()=>[h.icon?(ne(),me(ye,{key:0,avatar:""},{default:L(()=>[$(We,{name:h.icon},null,8,["name"])]),_:2},1024)):Je("",!0),$(ye,null,{default:L(()=>[$(we,{class:"text-weight-medium"},{default:L(()=>[oe(be(h.title),1)]),_:2},1024),$(we,{caption:"",class:Ye(h.to===r.$route.path?"text-white":"")},{default:L(()=>[oe(be(h.caption),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1032,["to","active"])),64))]),_:1})]),_:1},8,["modelValue"]),$(mt,null,{default:L(()=>[$(q)]),_:1})]),_:1})}}});export{St as default};
