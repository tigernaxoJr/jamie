import{b as M,c as v,h as f,x as Ae,n as we,am as Ie,w as E,an as Be,ao as Le,g as re,ap as je,r as I,aq as Ee,ar as Me,as as F,ah as le,a0 as xe,a6 as N,aa as V,a3 as k,a8 as ae,e as ce,T as Pe,at as Qe,O as se,au as Ve,B as He,D as Ne,o as De,q as Re,a4 as K,av as Fe,a2 as j,a7 as he,a1 as We,ab as Ge,a5 as de,ac as Ue}from"./index-BwSGB-g4.js";import{h as ue,d as Je,a as ke}from"./render-DO7taugi.js";import{i as Ye,j as Ke,Q as D,u as Xe,b as Ze,a as oe,k as qe}from"./QBtn-I20VTzYT.js";import{b as en,u as Ce,c as nn,a as Te,d as tn,j as ln,i as ge,h as W,o as X,Q as ve,v as fe,w as ne,k as an}from"./format-ClS5xHc8.js";import{f as sn,g as on,d as me,Q as rn}from"./QCheckbox-c71ie5Sn.js";import{Q as cn,T as be}from"./QScrollObserver-qmwnvbtb.js";import{_ as un}from"./_plugin-vue_export-helper-tRu62fUX.js";const Ot=M({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:i}){const l=v(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>f(e.tag,{class:l.value},ue(i.default))}}),hn=M({name:"QCardActions",props:{...Ye,vertical:Boolean},setup(e,{slots:i}){const l=Ke(e),r=v(()=>`q-card__actions ${l.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>f("div",{class:r.value},ue(i.default))}});function dn(e,i){return Be()?(Le(e,i),!0):!1}const gn=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const vn=Object.prototype.toString,fn=e=>vn.call(e)==="[object Object]",mn=()=>{};function bn(...e){if(e.length!==1)return je(...e);const i=e[0];return typeof i=="function"?Ie(Ee(()=>({get:i,set:mn}))):I(i)}function Sn(e,i){function l(...r){return new Promise((h,d)=>{Promise.resolve(e(()=>i.apply(this,r),{fn:i,thisArg:this,args:r})).then(h).catch(d)})}return l}const Oe=e=>e();function yn(e=Oe,i={}){const{initialState:l="active"}=i,r=bn(l==="active");function h(){r.value=!1}function d(){r.value=!0}const s=(...n)=>{r.value&&e(...n)};return{isActive:Ie(r),pause:h,resume:d,eventFilter:s}}function te(e){return Array.isArray(e)?e:[e]}function pn(e){return re()}function zn(e,i,l={}){const{eventFilter:r=Oe,...h}=l;return E(e,Sn(r,i),h)}function _n(e,i,l={}){const{eventFilter:r,initialState:h="active",...d}=l,{eventFilter:s,pause:n,resume:u,isActive:m}=yn(r,{initialState:h});return{stop:zn(e,i,{...d,eventFilter:s}),pause:n,resume:u,isActive:m}}const wn=_n;function In(e,i=!0,l){pn()?Ae(e,l):i?e():we(e)}function xn(e,i,l){return E(e,i,{...l,immediate:!0})}const R=gn?window:void 0;function kn(e){var i;const l=F(e);return(i=l?.$el)!==null&&i!==void 0?i:l}function Se(...e){const i=[],l=()=>{i.forEach(n=>n()),i.length=0},r=(n,u,m,p)=>(n.addEventListener(u,m,p),()=>n.removeEventListener(u,m,p)),h=v(()=>{const n=te(F(e[0])).filter(u=>u!=null);return n.every(u=>typeof u!="string")?n:void 0}),d=xn(()=>{var n,u;return[(n=(u=h.value)===null||u===void 0?void 0:u.map(m=>kn(m)))!==null&&n!==void 0?n:[R].filter(m=>m!=null),te(F(h.value?e[1]:e[0])),te(le(h.value?e[2]:e[1])),F(h.value?e[3]:e[2])]},([n,u,m,p])=>{if(l(),!n?.length||!u?.length||!m?.length)return;const z=fn(p)?{...p}:p;i.push(...n.flatMap(_=>u.flatMap(S=>m.map(y=>r(_,S,y,z)))))},{flush:"post"}),s=()=>{d(),l()};return dn(l),s}const Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ee="__vueuse_ssr_handlers__",qn=Cn();function Cn(){return ee in Z||(Z[ee]=Z[ee]||{}),Z[ee]}function Tn(e,i){return qn[e]||i}function On(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const $n={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},ye="vueuse-storage";function An(e,i,l,r={}){var h;const{flush:d="pre",deep:s=!0,listenToStorageChanges:n=!0,writeDefaults:u=!0,mergeDefaults:m=!1,shallow:p,window:z=R,eventFilter:_,onError:S=t=>{console.error(t)},initOnMounted:y}=r,o=(p?Me:I)(typeof i=="function"?i():i),b=v(()=>F(e));if(!l)try{l=Tn("getDefaultStorage",()=>R?.localStorage)()}catch(t){S(t)}if(!l)return o;const w=F(i),q=On(w),O=(h=r.serializer)!==null&&h!==void 0?h:$n[q],{pause:G,resume:A}=wn(o,t=>U(t),{flush:d,deep:s,eventFilter:_});E(b,()=>T(),{flush:d});let B=!1;const L=t=>{y&&!B||T(t)},P=t=>{y&&!B||J(t)};z&&n&&(l instanceof Storage?Se(z,"storage",L,{passive:!0}):Se(z,ye,P)),y?In(()=>{B=!0,T()}):T();function C(t,a){if(z){const g={key:b.value,oldValue:t,newValue:a,storageArea:l};z.dispatchEvent(l instanceof Storage?new StorageEvent("storage",g):new CustomEvent(ye,{detail:g}))}}function U(t){try{const a=l.getItem(b.value);if(t==null)C(a,null),l.removeItem(b.value);else{const g=O.write(t);a!==g&&(l.setItem(b.value,g),C(a,g))}}catch(a){S(a)}}function H(t){const a=t?t.newValue:l.getItem(b.value);if(a==null)return u&&w!=null&&l.setItem(b.value,O.write(w)),w;if(!t&&m){const g=O.read(a);return typeof m=="function"?m(g,w):q==="object"&&!Array.isArray(g)?{...w,...g}:g}else return typeof a!="string"?a:O.read(a)}function T(t){if(!(t&&t.storageArea!==l)){if(t&&t.key==null){o.value=w;return}if(!(t&&t.key!==b.value)){G();try{const a=O.write(o.value);(t===void 0||t?.newValue!==a)&&(o.value=H(t))}catch(a){S(a)}finally{t?we(A):A()}}}}function J(t){T(t.detail)}return o}function $t(e,i,l={}){const{window:r=R}=l;return An(e,i,r?.localStorage,l)}class Bn{id;english;chinese;image;audio;categories;constructor(i,l,r,h,d,s){this.id=i,this.english=l,this.chinese=r,this.image=h||"",this.audio=d||"",this.categories=s||[]}}class Ln extends Bn{errorRec;correctRec;constructor(i,l,r,h,d,s,n,u){super(i,l,r,h,d,s);const m={count:0,lastTime:0,consecutive:0};this.errorRec=n||{...m},this.correctRec=u||{...m}}}const jn=[{english:"one",chinese:"一"},{english:"two",chinese:"二"},{english:"three",chinese:"三"},{english:"four",chinese:"四"},{english:"five",chinese:"五"},{english:"six",chinese:"六"},{english:"seven",chinese:"七"},{english:"eight",chinese:"八"},{english:"nine",chinese:"九"},{english:"ten",chinese:"十"}].map(e=>({...e,categories:["1_1"]})),En=[{english:"morning",chinese:"早上"},{english:"afternoon",chinese:"下午"},{english:"evening",chinese:"傍晚"},{english:"night",chinese:"晚上"},{english:"now",chinese:"現在"}].map(e=>({...e,categories:["1_2"]})),Mn=[{english:"father",chinese:"父親(正式、書面)"},{english:"dad",chinese:"爸爸(日常、親近)"},{english:"daddy",chinese:"爹地(親暱、孩童用語)"},{english:"mother",chinese:"母親(正式、書面)"},{english:"mom",chinese:"媽媽(日常、親近)"},{english:"mommy",chinese:"媽咪(親暱、孩童用語)"},{english:"brother",chinese:"兄弟"},{english:"sister",chinese:"姐妹"}].map(e=>({...e,categories:["1_3"]})),Pn=[{english:"I",chinese:"我"},{english:"me",chinese:"我 (受格)"},{english:"my",chinese:"我的"},{english:"you",chinese:"你/你們"},{english:"your",chinese:"你的/你們的"},{english:"he",chinese:"他"},{english:"she",chinese:"她"},{english:"we",chinese:"我們"},{english:"they",chinese:"他們/她們/牠們"}].map(e=>({...e,categories:["1_4"]})),Qn=[{english:"hello",chinese:"哈囉"},{english:"hi",chinese:"嗨"},{english:"home",chinese:"家"},{english:"park",chinese:"公園"},{english:"zoo",chinese:"動物園"},{english:"wall",chinese:"牆"},{english:"car",chinese:"車子"},{english:"bus",chinese:"公車"},{english:"train",chinese:"火車"},{english:"ship",chinese:"船"}].map(e=>({...e,categories:["1_5"]})),Vn=[{english:"book",chinese:"書"},{english:"pen",chinese:"鋼筆"},{english:"pencil",chinese:"鉛筆"},{english:"desk",chinese:"書桌"},{english:"ball",chinese:"球"},{english:"bag",chinese:"袋子"},{english:"box",chinese:"盒子"},{english:"key",chinese:"鑰匙"},{english:"chair",chinese:"椅子"},{english:"bed",chinese:"床"},{english:"door",chinese:"門"},{english:"window",chinese:"窗戶"}].map(e=>({...e,categories:["1_6"]})),Hn=[{english:"head",chinese:"頭"},{english:"hair",chinese:"頭髮"},{english:"face",chinese:"臉"},{english:"eye",chinese:"眼睛"},{english:"ear",chinese:"耳朵"},{english:"nose",chinese:"鼻子"},{english:"mouth",chinese:"嘴"},{english:"neck",chinese:"脖子"},{english:"arm",chinese:"手臂"},{english:"hand",chinese:"手"},{english:"knee",chinese:"膝蓋"},{english:"leg",chinese:"腿"},{english:"foot",chinese:"腳"}].map(e=>({...e,categories:["1_7"]})),Nn=[{english:"apple",chinese:"蘋果"},{english:"banana",chinese:"香蕉"},{english:"cake",chinese:"蛋糕"},{english:"candy",chinese:"糖"},{english:"cookie",chinese:"餅乾"},{english:"bread",chinese:"麵包"},{english:"egg",chinese:"蛋"},{english:"pizza",chinese:"披薩"},{english:"juice",chinese:"果汁"},{english:"milk",chinese:"牛奶"},{english:"tea",chinese:"茶"},{english:"water",chinese:"水"}].map(e=>({...e,categories:["1_8"]})),Dn=[{english:"bee",chinese:"蜜蜂"},{english:"bird",chinese:"鳥"},{english:"cat",chinese:"貓"},{english:"dog",chinese:"狗"},{english:"horse",chinese:"馬"},{english:"fish",chinese:"魚"},{english:"pig",chinese:"豬"}].map(e=>({...e,categories:["1_9"]})),Rn=[{english:"good",chinese:"好的"},{english:"bad",chinese:"壞的"},{english:"big",chinese:"大的"},{english:"small",chinese:"小的"}].map(e=>({...e,categories:["1_10"]})),Fn=[{english:"be",chinese:"是(原型)"},{english:"am",chinese:"是 (I, 現在)"},{english:"is",chinese:"是 (單數, 現在)"},{english:"are",chinese:"是 (複數/You, 現在)"},{english:"come",chinese:"來"},{english:"go",chinese:"去"},{english:"see",chinese:"看 (非主動)"},{english:"look",chinese:"看 (主動地看)"},{english:"watch",chinese:"觀看 (長時間持續)"},{english:"hear",chinese:"聽"},{english:"listen",chinese:"聽 (專注地聽)"},{english:"speak",chinese:"說話 (正式/單向)"},{english:"say",chinese:"說 (內容)"},{english:"tell",chinese:"告訴 (對象)"},{english:"talk",chinese:"交談 (聊天)"},{english:"sing",chinese:"唱"},{english:"eat",chinese:"吃"},{english:"drink",chinese:"喝"},{english:"run",chinese:"跑"},{english:"jump",chinese:"跳"},{english:"walk",chinese:"走"},{english:"sit",chinese:"坐"},{english:"stand",chinese:"站"},{english:"read",chinese:"讀"},{english:"write",chinese:"寫"},{english:"thank",chinese:"謝謝"}].map(e=>({...e,categories:["1_11"]})),Wn=[{english:"can",chinese:"可以"},{english:"to",chinese:"到"},{english:"up",chinese:"上"},{english:"down",chinese:"下"},{english:"here",chinese:"這裡"},{english:"there",chinese:"那裡"},{english:"it",chinese:"它"},{english:"this",chinese:"這個"},{english:"that",chinese:"那個"}].map(e=>({...e,categories:["1_12"]})),Gn=[...jn,...En,...Mn,...Pn,...Qn,...Vn,...Hn,...Nn,...Dn,...Rn,...Fn,...Wn],Un=[{english:"a",chinese:"一個"},{english:"an",chinese:"一個(用於母音開頭)"},{english:"all",chinese:"全部"},{english:"many",chinese:"多 (可數)"},{english:"much",chinese:"多 (不可數)"},{english:"some",chinese:"一些"}].map(e=>({...e,categories:["2_1"]})),Jn=[{english:"school",chinese:"學校"},{english:"classroom",chinese:"教室"},{english:"room",chinese:"房間"},{english:"house",chinese:"房子"},{english:"bakery",chinese:"麵包店"},{english:"bank",chinese:"銀行"},{english:"hospital",chinese:"醫院"},{english:"library",chinese:"圖書館"},{english:"market",chinese:"市場"},{english:"office",chinese:"辦公室"},{english:"store",chinese:"店"},{english:"airport",chinese:"飛機場"},{english:"station",chinese:"車站"}].map(e=>({...e,categories:["2_2"]})),Yn=[{english:"baby",chinese:"寶寶"},{english:"child",chinese:"小孩 (單數)(較正式)"},{english:"kid",chinese:"小孩 (較口語)"},{english:"boy",chinese:"男生"},{english:"girl",chinese:"女生"},{english:"man",chinese:"男人 (單數)"},{english:"woman",chinese:"女人 (單數)"},{english:"person",chinese:"人 (單數)"},{english:"people",chinese:"人 (複數)"}].map(e=>({...e,categories:["2_3"]})),Kn=[{english:"grandfather",chinese:"祖父/外祖父(長)"},{english:"grandpa",chinese:"爺爺/外公(短)"},{english:"grandmother",chinese:"祖母/外祖母(長)"},{english:"grandma",chinese:"奶奶/外婆(短)"},{english:"uncle",chinese:"叔叔/伯伯/舅舅/姑丈/姨丈"},{english:"aunt",chinese:"阿姨/姑姑/伯母/嬸嬸/舅媽"},{english:"cousin",chinese:"表兄/弟/姐/妹, 堂兄/弟/姐/妹"},{english:"parent",chinese:"父母"},{english:"son",chinese:"兒子"},{english:"daughter",chinese:"孫子"},{english:"husband",chinese:"丈夫"},{english:"wife",chinese:"太太"}].map(e=>({...e,categories:["2_4"]})),Xn=[{english:"teacher",chinese:"老師"},{english:"student",chinese:"學生"},{english:"doctor",chinese:"醫生"},{english:"Dr.",chinese:"醫生 (縮寫)"},{english:"nurse",chinese:"護士"},{english:"farmer",chinese:"農夫"},{english:"fisherman",chinese:"漁夫"},{english:"mailman",chinese:"郵差"},{english:"police",chinese:"警察"},{english:"worker",chinese:"工人"}].map(e=>({...e,categories:["2_5"]})),Zn=[{english:"comic",chinese:"漫畫"},{english:"game",chinese:"遊戲"},{english:"gift",chinese:"禮物"},{english:"job",chinese:"工作"},{english:"party",chinese:"派對"},{english:"pet",chinese:"寵物"},{english:"picnic",chinese:"野餐"},{english:"trip",chinese:"旅行"},{english:"toy",chinese:"玩具"},{english:"doll",chinese:"洋娃娃"},{english:"bell",chinese:"鐘"},{english:"kite",chinese:"風箏"},{english:"picture",chinese:"圖片"},{english:"towel",chinese:"毛巾"},{english:"brush",chinese:"刷子"}].map(e=>({...e,categories:["2_6"]})),et=[{english:"hot dog",chinese:"熱狗"},{english:"meat",chinese:"肉"},{english:"noodle",chinese:"麵"},{english:"pie",chinese:"派"},{english:"popcorn",chinese:"爆米花"},{english:"pork",chinese:"豬肉"},{english:"rice",chinese:"飯"},{english:"lemon",chinese:"檸檬"},{english:"orange",chinese:"橘子"}].map(e=>({...e,categories:["2_7"]})),nt=[{english:"flower",chinese:"花"},{english:"grass",chinese:"草"},{english:"rose",chinese:"玫瑰"},{english:"tree",chinese:"樹"},{english:"rain",chinese:"雨"},{english:"rainbow",chinese:"彩虹"},{english:"wind",chinese:"風"},{english:"snow",chinese:"雪"},{english:"sky",chinese:"天空"},{english:"sun",chinese:"太陽"},{english:"moon",chinese:"月亮"},{english:"star",chinese:"星星"}].map(e=>({...e,categories:["2_8"]})),tt=[{english:"bite",chinese:"咬"},{english:"blow",chinese:"吹"},{english:"fly",chinese:"飛"},{english:"hit",chinese:"打"},{english:"kick",chinese:"踢"},{english:"knock",chinese:"敲"},{english:"laugh",chinese:"大笑"},{english:"look",chinese:"看"},{english:"nod",chinese:"點頭"},{english:"pick",chinese:"撿"}].map(e=>({...e,categories:["2_9"]})),it=[{english:"at",chinese:"在, 裡"},{english:"in",chinese:"裡, 進入/進去"},{english:"on",chinese:"在...上"},{english:"out",chinese:"外/出"},{english:"yes",chinese:"是"},{english:"no",chinese:"無/沒"},{english:"not",chinese:"不, 和"},{english:"the",chinese:"定冠詞, 無義"},{english:"these",chinese:"這些"},{english:"those",chinese:"那些"}].map(e=>({...e,categories:["2_10"]})),lt=[...Un,...Jn,...Yn,...Kn,...Xn,...Zn,...et,...nt,...tt,...it],at=[...Gn,...lt],At=e=>at.filter(i=>i.categories.some(l=>e.has(l))).map((i,l)=>new Ln(l,i.english,i.chinese,i.image,i.audio,i.categories)),Bt=[{id:"1",name:"第一級",parentId:null},{id:"1_1",name:"數字",parentId:"1"},{id:"1_2",name:"時間",parentId:"1"},{id:"1_3",name:"親屬",parentId:"1"},{id:"1_4",name:"人稱代名詞",parentId:"1"},{id:"1_5",name:"生活",parentId:"1"},{id:"1_6",name:"用品",parentId:"1"},{id:"1_7",name:"人體",parentId:"1"},{id:"1_8",name:"食物",parentId:"1"},{id:"1_9",name:"動物",parentId:"1"},{id:"1_10",name:"形容詞",parentId:"1"},{id:"1_11",name:"動詞",parentId:"1"},{id:"1_12",name:"其他",parentId:"1"},{id:"2",name:"第二級",parentId:null},{id:"2_1",name:"數量",parentId:"2"},{id:"2_2",name:"場所",parentId:"2"},{id:"2_3",name:"人",parentId:"2"},{id:"2_4",name:"親屬",parentId:"2"},{id:"2_5",name:"職業",parentId:"2"},{id:"2_6",name:"生活",parentId:"2"},{id:"2_7",name:"食物",parentId:"2"},{id:"2_8",name:"自然",parentId:"2"},{id:"2_9",name:"動詞",parentId:"2"},{id:"2_10",name:"其他",parentId:"2"}];function st(e){const i=new SpeechSynthesisUtterance(e);i.lang="en-US",speechSynthesis.speak(i)}const ot=e=>{if(!e)return;const i=`https://translate.google.com.tw/?sl=en&tl=zh-TW&text=${e}&op=translate`;window.open(i,"_blank")},Lt=xe({__name:"SpeechStrip",props:{word:{default:""}},setup(e){return(i,l)=>(V(),N(ae,null,[k(D,{round:"",icon:"volume_up",size:"sm",onClick:l[0]||(l[0]=r=>le(st)(e.word)),title:"內建發音 (瀏覽器 TTS)",class:"q-ml-xs"}),k(D,{round:"",icon:"headphones",color:"secondary",size:"sm",onClick:l[1]||(l[1]=r=>le(ot)(e.word)),title:"Google 翻譯發音 (新分頁)",class:"q-ml-xs"})],64))}}),rt=M({name:"QAvatar",props:{...Xe,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:i}){const l=Ze(e),r=v(()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(e.square===!0?" q-avatar--square":e.rounded===!0?" rounded-borders":"")),h=v(()=>e.fontSize?{fontSize:e.fontSize}:null);return()=>{const d=e.icon!==void 0?[f(oe,{name:e.icon})]:void 0;return f("div",{class:r.value,style:l.value},[f("div",{class:"q-avatar__content row flex-center overflow-hidden",style:h.value},Je(i.default,d))])}}}),ct=["top","middle","bottom"],ut=M({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>ct.includes(e)}},setup(e,{slots:i}){const l=v(()=>e.align!==void 0?{verticalAlign:e.align}:null),r=v(()=>{const h=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(h!==void 0?` text-${h}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>f("div",{class:r.value,style:l.value,role:"status","aria-label":e.label},ke(i.default,e.label!==void 0?[e.label]:[]))}}),ht=M({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:i,emit:l}){let r=!1,h,d,s=null,n=null,u,m;function p(){h?.(),h=null,r=!1,s!==null&&(clearTimeout(s),s=null),n!==null&&(clearTimeout(n),n=null),d?.removeEventListener("transitionend",u),u=null}function z(o,b,w){b!==void 0&&(o.style.height=`${b}px`),o.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,r=!0,h=w}function _(o,b){o.style.overflowY=null,o.style.height=null,o.style.transition=null,p(),b!==m&&l(b)}function S(o,b){let w=0;d=o,r===!0?(p(),w=o.offsetHeight===o.scrollHeight?0:void 0):(m="hide",o.style.overflowY="hidden"),z(o,w,b),s=setTimeout(()=>{s=null,o.style.height=`${o.scrollHeight}px`,u=q=>{n=null,(Object(q)!==q||q.target===o)&&_(o,"show")},o.addEventListener("transitionend",u),n=setTimeout(u,e.duration*1.1)},100)}function y(o,b){let w;d=o,r===!0?p():(m="show",o.style.overflowY="hidden",w=o.scrollHeight),z(o,w,b),s=setTimeout(()=>{s=null,o.style.height=0,u=q=>{n=null,(Object(q)!==q||q.target===o)&&_(o,"hide")},o.addEventListener("transitionend",u),n=setTimeout(u,e.duration*1.1)},100)}return ce(()=>{r===!0&&p()}),()=>f(Pe,{css:!1,appear:e.appear,onEnter:S,onLeave:y},i.default)}}),Q=Qe({}),dt=Object.keys(qe),gt=M({name:"QExpansionItem",props:{...qe,...nn,...Ce,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...en,"click","afterShow","afterHide"],setup(e,{slots:i,emit:l}){const{proxy:{$q:r}}=re(),h=Te(e,r),d=I(e.modelValue!==null?e.modelValue:e.defaultOpened),s=I(null),n=sn(),{show:u,hide:m,toggle:p}=tn({showing:d});let z,_;const S=v(()=>`q-expansion-item q-item-type q-expansion-item--${d.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),y=v(()=>e.contentInsetLevel===void 0?null:{["padding"+(r.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),o=v(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),b=v(()=>{const c={};return dt.forEach(x=>{c[x]=e[x]}),c}),w=v(()=>o.value===!0||e.expandIconToggle!==!0),q=v(()=>e.expandedIcon!==void 0&&d.value===!0?e.expandedIcon:e.expandIcon||r.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),O=v(()=>e.disable!==!0&&(o.value===!0||e.expandIconToggle===!0)),G=v(()=>({expanded:d.value===!0,detailsId:n.value,toggle:p,show:u,hide:m})),A=v(()=>{const c=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:r.lang.label[d.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":d.value===!0?"true":"false","aria-controls":n.value,"aria-label":c}});E(()=>e.group,c=>{_?.(),c!==void 0&&H()});function B(c){o.value!==!0&&p(c),l("click",c)}function L(c){c.keyCode===13&&P(c,!0)}function P(c,x){x!==!0&&c.qAvoidFocus!==!0&&s.value?.focus(),p(c),He(c)}function C(){l("afterShow")}function U(){l("afterHide")}function H(){z===void 0&&(z=on()),d.value===!0&&(Q[e.group]=z);const c=E(d,$=>{$===!0?Q[e.group]=z:Q[e.group]===z&&delete Q[e.group]}),x=E(()=>Q[e.group],($,Y)=>{Y===z&&$!==void 0&&$!==z&&m()});_=()=>{c(),x(),Q[e.group]===z&&delete Q[e.group],_=void 0}}function T(){const c={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},x=[f(oe,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&d.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:q.value})];return O.value===!0&&(Object.assign(c,{tabindex:0,...A.value,onClick:P,onKeyup:L}),x.unshift(f("div",{ref:s,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),f(W,c,()=>x)}function J(){let c;return i.header!==void 0?c=[].concat(i.header(G.value)):(c=[f(W,()=>[f(ge,{lines:e.labelLines},()=>e.label||""),e.caption?f(ge,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&c[e.switchToggleSide===!0?"push":"unshift"](f(W,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>f(oe,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&c[e.switchToggleSide===!0?"unshift":"push"](T()),c}function t(){const c={ref:"item",style:e.headerStyle,class:e.headerClass,dark:h.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return w.value===!0&&(c.clickable=!0,c.onClick=B,Object.assign(c,o.value===!0?b.value:A.value)),f(ln,c,J)}function a(){return se(f("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:y.value,id:n.value},ue(i.default)),[[Ve,d.value]])}function g(){const c=[t(),f(ht,{duration:e.duration,onShow:C,onHide:U},a)];return e.expandSeparator===!0&&c.push(f(me,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:h.value}),f(me,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:h.value})),c}return e.group!==void 0&&H(),ce(()=>{_?.()}),()=>f("div",{class:S.value},[f("div",{class:"q-expansion-item__container relative-position"},g())])}}),vt=M({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[f("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),f("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),se(f("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),se(f("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),pe=["vertical","horizontal"],ie={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},ze={prevent:!0,mouse:!0,mouseAllDir:!0},_e=e=>e>=250?50:Math.ceil(e/5),ft=M({name:"QScrollArea",props:{...Ce,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:i,emit:l}){const r=I(!1),h=I(!1),d=I(!1),s={vertical:I(0),horizontal:I(0)},n={vertical:{ref:I(null),position:I(0),size:I(0)},horizontal:{ref:I(null),position:I(0),size:I(0)}},{proxy:u}=re(),m=Te(e,u.$q);let p=null,z;const _=I(null),S=v(()=>"q-scrollarea"+(m.value===!0?" q-scrollarea--dark":""));Object.assign(s,{verticalInner:v(()=>s.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:v(()=>s.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),n.vertical.percentage=v(()=>{const t=n.vertical.size.value-s.vertical.value;if(t<=0)return 0;const a=X(n.vertical.position.value/t,0,1);return Math.round(a*1e4)/1e4}),n.vertical.thumbHidden=v(()=>(e.visible===null?d.value:e.visible)!==!0&&r.value===!1&&h.value===!1||n.vertical.size.value<=s.vertical.value+1),n.vertical.thumbStart=v(()=>e.verticalOffset[0]+n.vertical.percentage.value*(s.verticalInner.value-n.vertical.thumbSize.value)),n.vertical.thumbSize=v(()=>Math.round(X(s.verticalInner.value*s.verticalInner.value/n.vertical.size.value,_e(s.verticalInner.value),s.verticalInner.value))),n.vertical.style=v(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${n.vertical.thumbStart.value}px`,height:`${n.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),n.vertical.thumbClass=v(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(n.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),n.vertical.barClass=v(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(n.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),n.horizontal.percentage=v(()=>{const t=n.horizontal.size.value-s.horizontal.value;if(t<=0)return 0;const a=X(Math.abs(n.horizontal.position.value)/t,0,1);return Math.round(a*1e4)/1e4}),n.horizontal.thumbHidden=v(()=>(e.visible===null?d.value:e.visible)!==!0&&r.value===!1&&h.value===!1||n.horizontal.size.value<=s.horizontal.value+1),n.horizontal.thumbStart=v(()=>e.horizontalOffset[0]+n.horizontal.percentage.value*(s.horizontalInner.value-n.horizontal.thumbSize.value)),n.horizontal.thumbSize=v(()=>Math.round(X(s.horizontalInner.value*s.horizontalInner.value/n.horizontal.size.value,_e(s.horizontalInner.value),s.horizontalInner.value))),n.horizontal.style=v(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[u.$q.lang.rtl===!0?"right":"left"]:`${n.horizontal.thumbStart.value}px`,width:`${n.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),n.horizontal.thumbClass=v(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(n.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),n.horizontal.barClass=v(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(n.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const y=v(()=>n.vertical.thumbHidden.value===!0&&n.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function o(){const t={};return pe.forEach(a=>{const g=n[a];Object.assign(t,{[a+"Position"]:g.position.value,[a+"Percentage"]:g.percentage.value,[a+"Size"]:g.size.value,[a+"ContainerSize"]:s[a].value,[a+"ContainerInnerSize"]:s[a+"Inner"].value})}),t}const b=Ne(()=>{const t=o();t.ref=u,l("scroll",t)},0);function w(t,a,g){if(pe.includes(t)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(t==="vertical"?fe:ne)(_.value,a,g)}function q({height:t,width:a}){let g=!1;s.vertical.value!==t&&(s.vertical.value=t,g=!0),s.horizontal.value!==a&&(s.horizontal.value=a,g=!0),g===!0&&L()}function O({position:t}){let a=!1;n.vertical.position.value!==t.top&&(n.vertical.position.value=t.top,a=!0),n.horizontal.position.value!==t.left&&(n.horizontal.position.value=t.left,a=!0),a===!0&&L()}function G({height:t,width:a}){n.horizontal.size.value!==a&&(n.horizontal.size.value=a,L()),n.vertical.size.value!==t&&(n.vertical.size.value=t,L())}function A(t,a){const g=n[a];if(t.isFirst===!0){if(g.thumbHidden.value===!0)return;z=g.position.value,h.value=!0}else if(h.value!==!0)return;t.isFinal===!0&&(h.value=!1);const c=ie[a],x=(g.size.value-s[a].value)/(s[a+"Inner"].value-g.thumbSize.value),$=t.distance[c.dist],Y=z+(t.direction===c.dir?1:-1)*$*x;P(Y,a)}function B(t,a){const g=n[a];if(g.thumbHidden.value!==!0){const c=a==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],x=t[ie[a].offset]-c,$=g.thumbStart.value-c;if(x<$||x>$+g.thumbSize.value){const Y=x-g.thumbSize.value/2,$e=X(Y/(s[a+"Inner"].value-g.thumbSize.value),0,1);P($e*Math.max(0,g.size.value-s[a].value),a)}g.ref.value!==null&&g.ref.value.dispatchEvent(new MouseEvent(t.type,t))}}function L(){r.value=!0,p!==null&&clearTimeout(p),p=setTimeout(()=>{p=null,r.value=!1},e.delay),e.onScroll!==void 0&&b()}function P(t,a){_.value[ie[a].scroll]=t}let C=null;function U(){C!==null&&clearTimeout(C),C=setTimeout(()=>{C=null,d.value=!0},u.$q.platform.is.ios?50:0)}function H(){C!==null&&(clearTimeout(C),C=null),d.value=!1}let T=null;E(()=>u.$q.lang.rtl,t=>{_.value!==null&&ne(_.value,Math.abs(n.horizontal.position.value)*(t===!0?-1:1))}),De(()=>{T={top:n.vertical.position.value,left:n.horizontal.position.value}}),Re(()=>{if(T===null)return;const t=_.value;t!==null&&(ne(t,T.left),fe(t,T.top))}),ce(b.cancel),Object.assign(u,{getScrollTarget:()=>_.value,getScroll:o,getScrollPosition:()=>({top:n.vertical.position.value,left:n.horizontal.position.value}),getScrollPercentage:()=>({top:n.vertical.percentage.value,left:n.horizontal.percentage.value}),setScrollPosition:w,setScrollPercentage(t,a,g){w(t,a*(n[t].size.value-s[t].value)*(t==="horizontal"&&u.$q.lang.rtl===!0?-1:1),g)}});const J={scroll:n,thumbVertDir:[[be,t=>{A(t,"vertical")},void 0,{vertical:!0,...ze}]],thumbHorizDir:[[be,t=>{A(t,"horizontal")},void 0,{horizontal:!0,...ze}]],onVerticalMousedown(t){B(t,"vertical")},onHorizontalMousedown(t){B(t,"horizontal")}};return()=>f("div",{class:S.value,onMouseenter:U,onMouseleave:H},[f("div",{ref:_,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[f("div",{class:"q-scrollarea__content absolute",style:y.value},ke(i.default,[f(ve,{debounce:0,onResize:G})])),f(cn,{axis:"both",onScroll:O})]),f(ve,{debounce:0,onResize:q}),f(vt,{store:J,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),mt={class:"category-selector q-pa-md"},bt={class:"text-h5 text-weight-bold text-center q-mb-lg text-primary"},St={class:"row q-mb-md justify-between items-center"},yt={class:"q-gutter-x-sm"},pt={class:"q-pa-md bg-grey-1"},zt={class:"row q-col-gutter-sm"},_t=xe({__name:"CategorySelector",props:{modelValue:{},categories:{},confirmLabel:{}},emits:["update:modelValue","confirm"],setup(e,{emit:i}){const l=e,r=i,h=v(()=>l.confirmLabel||"開始"),d=v(()=>l.categories.filter(S=>!S.parentId)),s=I({});E(d,S=>{S.forEach(y=>{s.value[y.id]===void 0&&(s.value[y.id]=!0)})},{immediate:!0});const n=()=>{d.value.forEach(S=>{s.value[S.id]=!0})},u=()=>{d.value.forEach(S=>{s.value[S.id]=!1})},m=S=>l.categories.filter(y=>y.parentId===S),p=S=>{const y=[...l.modelValue],o=y.indexOf(S);o===-1?y.push(S):y.splice(o,1),r("update:modelValue",y)},z=()=>{r("update:modelValue",[])},_=S=>{const o=m(S).filter(b=>l.modelValue.includes(b.id)).length;return o===0?"":`${o}`};return(S,y)=>(V(),N("div",mt,[K("div",bt,[Fe(S.$slots,"title",{},()=>[y[1]||(y[1]=de("選擇類別",-1))])]),K("div",St,[K("div",yt,[k(D,{outline:"",dense:"",color:"primary",label:"全部展開",icon:"unfold_more",size:"sm",onClick:n}),k(D,{outline:"",dense:"",color:"primary",label:"全部收合",icon:"unfold_less",size:"sm",onClick:u})]),k(D,{flat:"",dense:"",color:"negative",label:"清空選擇",icon:"delete_sweep",size:"sm",onClick:z,disable:e.modelValue.length===0},null,8,["disable"])]),k(ft,{style:{height:"400px","max-width":"100%"},class:"border-radius-inherit bg-grey-1 rounded-borders q-pa-sm"},{default:j(()=>[k(an,{separator:"",class:"rounded-borders"},{default:j(()=>[(V(!0),N(ae,null,he(d.value,o=>(V(),N("div",{key:o.id,class:"q-mb-sm bg-white shadow-1 rounded-borders overflow-hidden"},[k(gt,{"model-value":!!s.value[o.id],"onUpdate:modelValue":b=>s.value[o.id]=b,"expand-separator":"","header-class":"text-weight-bold text-subtitle1",label:o.name},{header:j(()=>[k(W,{avatar:""},{default:j(()=>[k(rt,{icon:"category",color:"primary","text-color":"white",size:"sm","font-size":"16px"})]),_:1}),k(W,null,{default:j(()=>[de(Ue(o.name),1)]),_:2},1024),_(o.id)?(V(),We(W,{key:0,side:""},{default:j(()=>[k(ut,{color:"secondary",label:_(o.id)},null,8,["label"])]),_:2},1024)):Ge("",!0)]),default:j(()=>[K("div",pt,[K("div",zt,[(V(!0),N(ae,null,he(m(o.id),b=>(V(),N("div",{key:b.id,class:"col-6 col-sm-4"},[k(rn,{"model-value":e.modelValue.includes(b.id),"onUpdate:modelValue":w=>p(b.id),label:b.name,dense:"",color:"primary",class:"full-width"},null,8,["model-value","onUpdate:modelValue","label"])]))),128))])])]),_:2},1032,["model-value","onUpdate:modelValue","label"])]))),128))]),_:1})]),_:1}),k(hn,{align:"center",class:"q-mt-lg"},{default:j(()=>[k(D,{unelevated:"",rounded:"",color:"primary",label:h.value,onClick:y[0]||(y[0]=o=>S.$emit("confirm")),disable:e.modelValue.length===0,class:"q-px-xl text-weight-bold shadow-2",size:"lg"},null,8,["label","disable"])]),_:1})]))}}),jt=un(_t,[["__scopeId","data-v-f39a5883"]]);export{Bt as C,At as G,Ot as Q,Lt as _,jt as a,hn as b,$t as u};
